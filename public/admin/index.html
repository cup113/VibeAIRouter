<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VibeAI Router - 管理面板</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Consolas', 'Monaco', monospace; background: #1a1a1a; color: #e0e0e0; line-height: 1.6; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        
        header { border-bottom: 1px solid #333; padding: 20px 0; margin-bottom: 30px; }
        h1 { color: #4CAF50; font-size: 24px; margin-bottom: 5px; }
        .subtitle { color: #888; font-size: 14px; }
        
        .login-form { max-width: 400px; margin: 100px auto; padding: 30px; background: #222; border: 1px solid #333; }
        .login-form h2 { margin-bottom: 20px; color: #4CAF50; }
        .login-form input { width: 100%; padding: 10px; margin: 10px 0; background: #333; border: 1px solid #444; color: #fff; }
        .login-form button { width: 100%; padding: 10px; background: #4CAF50; color: white; border: none; cursor: pointer; }
        .login-form button:hover { background: #45a049; }
        
        .dashboard { display: none; }
        .section { background: #222; border: 1px solid #333; margin-bottom: 20px; padding: 20px; }
        .section h2 { color: #4CAF50; margin-bottom: 15px; font-size: 18px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .stat-card { background: #2a2a2a; padding: 15px; border-left: 4px solid #4CAF50; }
        .stat-card h3 { color: #888; font-size: 14px; margin-bottom: 5px; }
        .stat-value { font-size: 24px; color: #fff; }
        .stat-sub { font-size: 12px; color: #666; }
        
        .data-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .data-table th { background: #2a2a2a; padding: 10px; text-align: left; color: #888; font-weight: normal; border-bottom: 1px solid #333; }
        .data-table td { padding: 10px; border-bottom: 1px solid #333; }
        .data-table tr:hover { background: #2a2a2a; }
        
        .success { color: #4CAF50; }
        .error { color: #f44336; }
        .warning { color: #ff9800; }
        
        .actions { display: flex; gap: 10px; margin-top: 20px; }
        .btn { padding: 8px 16px; background: #333; color: #fff; border: 1px solid #444; cursor: pointer; }
        .btn:hover { background: #444; }
        .btn-primary { background: #4CAF50; border-color: #4CAF50; }
        .btn-primary:hover { background: #45a049; }
        
        .config-editor { width: 100%; height: 300px; background: #1a1a1a; color: #e0e0e0; border: 1px solid #333; padding: 10px; font-family: 'Consolas', monospace; font-size: 14px; }
        
        .status-indicator { display: inline-block; width: 10px; height: 10px; border-radius: 50%; margin-right: 5px; }
        .status-up { background: #4CAF50; }
        .status-down { background: #f44336; }
        
        .last-update { color: #666; font-size: 12px; margin-top: 20px; text-align: right; }
        
        @media (max-width: 768px) {
            .stats-grid { grid-template-columns: 1fr; }
            .actions { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 登录表单 -->
        <div id="loginForm" class="login-form">
            <h2>VibeAI Router 管理登录</h2>
            <input type="password" id="password" placeholder="输入管理员密码" autocomplete="current-password">
            <button id="loginButton">登录</button>
            <div id="loginError" style="color: #f44336; margin-top: 10px; display: none;">密码错误</div>
        </div>
        
        <!-- 管理面板 -->
        <div id="dashboard" class="dashboard">
            <header>
                <h1>VibeAI Router 管理面板</h1>
                <div class="subtitle">免费AI模型中转站 - 实时监控与配置管理</div>
            </header>
            
            <!-- 操作按钮 -->
            <div class="actions">
                <button class="btn btn-primary" id="refreshStatsBtn">刷新数据</button>
                <button class="btn" id="reloadConfigBtn">重载配置</button>
                <button class="btn" id="updateStatsBtn">更新小时统计</button>
                <button class="btn" id="cleanupDataBtn">清理旧数据</button>
                <button class="btn" id="logoutBtn" style="margin-left: auto;">退出登录</button>
            </div>
            
            <!-- 概览统计 -->
            <div class="section">
                <h2>系统概览</h2>
                <div class="stats-grid" id="overviewStats"></div>
            </div>
            
            <!-- 提供商统计 -->
            <div class="section">
                <h2>提供商统计</h2>
                <table class="data-table" id="providerStats">
                    <thead>
                        <tr>
                            <th>提供商</th>
                            <th>总请求</th>
                            <th>成功请求</th>
                            <th>成功率</th>
                            <th>平均响应时间</th>
                            <th>总Token数</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            
            <!-- 最近请求 -->
            <div class="section">
                <h2>最近请求 (最近50条)</h2>
                <table class="data-table" id="recentRequests">
                    <thead>
                        <tr>
                            <th>时间</th>
                            <th>模型</th>
                            <th>提供商</th>
                            <th>状态</th>
                            <th>响应时间</th>
                            <th>Token数</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            
            <!-- 配置管理 -->
            <div class="section">
                <h2>配置管理</h2>
                <textarea id="configEditor" class="config-editor"></textarea>
                <div class="actions" style="margin-top: 10px;">
                    <button class="btn btn-primary" id="saveConfigBtn">保存配置</button>
                    <button class="btn" id="loadConfigBtn">加载当前配置</button>
                </div>
            </div>
            
            <!-- 管理员日志 -->
            <div class="section">
                <h2>管理员操作日志</h2>
                <table class="data-table" id="adminLogs">
                    <thead>
                        <tr>
                            <th>时间</th>
                            <th>操作</th>
                            <th>详情</th>
                            <th>IP地址</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            
            <div class="last-update" id="lastUpdate">最后更新: --</div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>